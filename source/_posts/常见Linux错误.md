title: 常见Linux错误
categories: Linux
tags:
  - Linux
  - CentOS
date: 2016-01-28 14:42:21
---
# 设备eth0似乎不存在,初始化操作将被延迟 #

当设置完IP后，启动网络服务，出现下列错误

[root@localhost ~]# `service network restart`
```
关闭环回接口：                                             [确定]
弹出环回接口：                                             [确定]
弹出界面 eth0： 设备 eth0 似乎不存在, 初始化操作将被延迟。 [失败]
```
解决方法：

1.编辑网卡配置文件

[root@localhost ~]# `vim /etc/sysconfig/network-scripts/ifcfg-eth0`
```
DEVICE=eth0
HWADDR=00:0C:29:6C:A2:40
TYPE=Ethernet
UUID=9b5a23e3-7c38-4b6e-b7ac-088f33c8727b
ONBOOT=yes
NM_CONTROLLED=no
BOOTPROTO=none
IPADDR=10.37.128.4
NETMASK=255.0.0.0
IPV6INIT=no
USERCTL=no
```
2.删除标红的行，删除后是如下显示

[root@localhost ~]# `cat /etc/sysconfig/network-scripts/ifcfg-eth0`
```
DEVICE=eth0
TYPE=Ethernet
UUID=9b5a23e3-7c38-4b6e-b7ac-088f33c8727b
ONBOOT=yes
NM_CONTROLLED=no
BOOTPROTO=none
IPADDR=10.37.128.4
NETMASK=255.0.0.0
IPV6INIT=no
USERCTL=no
```
3.删除关于网卡的udev策略

[root@localhost ~]# `rm -rf /etc/udev/rules.d/70-persistent-net.rules`

4.重新启动系统

[root@localhost ~]# `reboot`

5.查看ip是否生效

[root@localhost ~]#` ifconfig eth0`
```
eth0      Link encap:Ethernet  HWaddr 00:0C:29:C1:86:5C  
          inet addr:10.37.128.4  Bcast:10.255.255.255  Mask:255.0.0.0
          inet6 addr: fe80::20c:29ff:fec1:865c/64 Scope:Link
          UP BROADCAST RUNNING MULTICAST  MTU:1500  Metric:1
          RX packets:0 errors:0 dropped:0 overruns:0 frame:0
          TX packets:11 errors:0 dropped:0 overruns:0 carrier:0
          collisions:0 txqueuelen:1000 
          RX bytes:0 (0.0 b)  TX bytes:746 (746.0 b)
```
6.查看系统重新生成的udev策略

[root@localhost ~]#`cat /etc/udev/rules.d/70-persistent-net.rules`
```
# This file was automatically generated by the /lib/udev/write_net_rules
# program, run by the persistent-net-generator.rules rules file.
#
# You can modify it, as long as you keep each rule on a single
# line, and change only the value of the NAME= key.

# PCI device 0x8086:0x100f (e1000)
SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", ATTR{address}=="00:0c:29:c1:86:5c", ATTR{type}=="1", KERNEL=="eth*", NAME="eth0" 
```




# CentOS yum下提示Another app is currently holding the yum lock #


yum命令用ctrl+z命令中断后，再运行yum时，出现：
```
Existing lock /var/run/yum.pid: another copy is running as pid 3046.
Another app is currently holding the yum lock; waiting for it to exit...
Another app is currently holding the yum lock; waiting for it to exit...
Another app is currently holding the yum lock; waiting for it to exit...
Another app is currently holding the yum lock; waiting for it to exit...
Another app is currently holding the yum lock; waiting for it to exit...
```
NND，说我正在使用yum。输入

[root@localhost ~]#`**rm -f /var/run/yum.pid**`
[root@localhost ~]#`**/sbin/service yum-updatesd restart**`

```
Stopping yum-updatesd:                                     [ OK ]
Starting yum-updatesd:                                     [ OK ]
```
好了，一切正常了
